<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>


            var personajes = [
                //Pos 0 = columna
                //Pos 1 = fila
                //Pos 3 direccion
                //0=Izquierda 1=Arriba 2=Derecha 3=Abajo
                //Pos 4 = en que direccion quiere ir (Jugador)
                [2, 2, 0, 0], //Jugador
                [7, 10, 3], //Fantasma 1
                [7, 11, 1], //Fantasma 2
                [7, 12, 1], //Fantasma 3
                [7, 13, 3] //Fantasma 4
            ];
            var tablero = [
                [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1],
                [1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1],
                [1, 0, 0, 0, 0 ,1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],
                [1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],
                [1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1],
                [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1],
                [1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1],
                [1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1],
                [1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1],
                [1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1],
                [1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1],
                [1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1],
                [1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1],
                [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1],
                [1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1],
                [1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1],
                [1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1],
                [1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1],
                [1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];
            function pinta() {
                document.body.innerHTML = ""; //Limpia el cuerpo de la pagina
                for (var y = 0; y < tablero.length; y++) {
                    for (var x = 0; x < tablero[y].length; x++) {
                        if (tablero[y][x] == 1 && x != tablero[y].length - 1) {
                            document.write("X");
                        } else if (tablero[y][x] == 0) {
                            document.write("Y");
                        } else if (tablero[y][x] == 2) {
                            document.write("K"); //Fantasma
                        } else if (tablero[y][x] == 3) {
                            document.write("G"); //Jugador
                        } else {
                            document.write("X<br>");
                        }
                    }
                }
            }
            function posJPersonajes() {
                //Terminar
                var y = Math.floor((Math.random() * 23) + 1);
                var x = Math.floor((Math.random() * 13) + 1);
                var i = 0;
                if (tablero[y][x] == 0) {
                    personajes[i][x, y, random()];
                }

            }



            function mueve() {
                //Editar
                for (var y = 0; y < personajes.length; y++) {
                    var tipo;
                    if (y > 0) {
                        tipo = 2; //Fantasma
                    } else {
                        tipo = 3; //Jugador
                    }
                    if (personajes[y][3] == 0 && tablero[personajes[y][0]][personajes[y][1] - 1] != 1) {
                        tablero[personajes[y][0]][personajes[y][1]] = 0;
                        tablero[personajes[y][0]][personajes[y][1] - 1] = tipo;
                        personajes[y][1] = personajes[y][1] - 1;
                    } else if (personajes[y][3] == 1 && tablero[personajes[y][0] + 1][personajes[y][1]] != 1) {
                        tablero[personajes[y][0]][personajes[y][1]] = 0;
                        tablero[personajes[y][0] + 1][personajes[y][1]] = tipo;
                        personajes[y][0] = personajes[y][0] + 1;
                    } else if (personajes[y][3] == 2 && tablero[personajes[y][0]][personajes[y][1] + 1] != 1) {
                        tablero[personajes[y][0]][personajes[y][1]] = 0;
                        tablero[personajes[y][0]][personajes[y][1] + 1] = tipo;
                        personajes[y][1] = personajes[y][1] + 1;
                    } else if (personajes[y][3] == 3 && tablero[personajes[y][0] - 1][personajes[y][1]] != 1) {
                        tablero[personajes[y][0]][personajes[y][1]] = 0;
                        tablero[personajes[y][0] - 1][personajes[y][1]] = tipo;
                        personajes[y][0] = personajes[y][0] - 1;
                    } else {
                        personajes[y][3] = random();
                    }
                }
            }


            function random() {
                return Math.floor((Math.random() * 4));
            }
            setInterval(function () {
                
                mueve();
                pinta();
            }, 1000); 

        </script>
    </body>
</html>


